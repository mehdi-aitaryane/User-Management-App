<app-breadcrumb [paths]="breadcrumbPaths"></app-breadcrumb>

<app-confirm-modal #confirmModal [title]="'Delete User'" [body]="'Are you sure you want to delete this user?'">
</app-confirm-modal>

<app-show-user-modal> #showUserModal
</app-show-user-modal>

<div class="mx-md-5 p-md-3">

    <div class="row">
        <div class="col-md-6 col-sd-12">
            <h4 class="text-primary">Manage Users</h4>
        </div>
        <div class="col">
            <div class="input-group mb-3">
                <input class="form-control" placeholder="Search" type="text" name="" id="" [(ngModel)]="keyword"
                    (input)="searchUsers()">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="bi bi-search"></i></span>
                </div>
            </div>
        </div>
    </div>

    <table class="table table-striped table-responsive mt-3">
        <thead class="bg-primary text-white">
            <th>Firstname</th>
            <th>Lastname</th>
            <th>Username</th>
            <th>Operation</th>
        </thead>
        <tbody>
            <tr *ngFor="let user of users">
                <td>{{user.firstname}}</td>
                <td>{{user.lastname}}</td>
                <td>{{user.username}}</td>
                <td>
                    <button class="btn btn-primary mx-md-3 mb-3" (click)="showUser(user.username)" data-bs-toggle="modal"
                        data-bs-target="#showUserModal">Show User</button>
                    <button class="btn btn-danger  mb-3" (click)="deleteUser(user.username)" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">Delete User</button>
                </td>
            </tr>
        </tbody>
    </table>

    <nav aria-label="page navigation example">
        <ul class="pagination">
            <li class="page-item">
                <button class="page-link" (click)="changePage('prev')">Previous</button>
            </li>
            <li *ngFor="let item of pages" class="page-item">
                <button class="page-link" (click)="changePage(item)" [class.active]="item === page">{{item}}</button>
            </li>
            <li class="page-item">
                <button class="page-link" (click)="changePage('next')">Next</button>
            </li>
        </ul>
    </nav>

</div>